function Canvas(c){this.isDom=function(f){try{return f instanceof HTMLElement}catch(d){return(typeof f==="object")&&(f.nodeType===1)&&(typeof f.style==="object")&&(typeof f.ownerDocument==="object")}};var b=undefined!=c&&this.isDom(c)?c:document.body;var a=b.getElementsByTagName("canvas");if(a.length==0){a=b.appendChild(document.createElement("canvas"));a.width=b.clientWidth;a.height=b.clientHeight}else{a=a[0]}this.width=a.width;this.height=a.height;this._ctx=a.getContext("2d");this.drawables=[];this.addDrawable=function(d){if(d instanceof Drawable){this.drawables.push(d)}};this.delDrawable=function(e){if(e instanceof Drawable&&this.drawables.length){for(var d=this.drawables.length-1;d>=0;d--){if(this.drawables[d]==e){this.drawables.splice(d,1);return true}}}return false};this.draw=function(){if(this.drawables.length){this._ctx.clearRect(0,0,this.width,this.height);for(var d=0,e=this.drawables.length;d<e;d++){this.drawables[d].draw(this._ctx)}}};this.clear=function(){this.drawables=[];this._ctx.clearRect(0,0,this.width,this.height)}}function Drawable(){this.x=0;this.y=0;this.w=0;this.h=0;this.r=0;this.label=false;this.fontName="Verdana";this.fontSize=14;this.color=Math.floor(Math.random()*16777215).toString(16);this.width=function(a){if(undefined==a){return this.w}else{this.w=a}return this};this.height=function(a){if(undefined==a){return this.h}else{this.h=a}return this};this.radius=function(a){if(undefined==a){return this.r}else{this.r=a;return this}};this.size=function(a,b){if(undefined==a){return{w:this.w,h:this.h}}else{if(a&&b){this.w=a;this.h=b}}return this};this.position=function(a,b){if(undefined==a){return{x:this.x,y:this.y}}else{if(undefined!=a&&undefined!=b){this.x=a;this.y=b}}return this};this._centerLabel=function(c){var b=this.label,h=c.measureText("M").width,a=h*(b.length+1);var g=0,f=this.y+(this.h-a)/2;for(var e in b){var d=c.measureText(b[e]).width;g=this.x+Math.abs(this.w-d)/2;c.fillText(b[e],g,f);f+=h}}}Drawable.prototype.draw=function(a){a.textBaseline="top";a.font=this.fontSize+"px "+this.fontName;a.fillStyle=this.color;if(this.label){this._centerLabel(a)}};